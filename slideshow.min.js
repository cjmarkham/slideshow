var Slideshow=function(d){var a=this;this.options=$.extend({},d);this.init=function(){this.container=this.options.container||$("#slideshow-inner");this.slideshow=this.options.slideshow||$("#slideshow");this.index=this.startIndex=this.options.startIndex||$("li",this.slideshow).index($(".active"));if(-1===this.index)return console.error("No index found for slideshow"),!1;this.currentMargin=parseInt(this.slideshow.css("margin-left"),10);this.speed=this.options.speed||300;this.items=this.slideshow.find("li");
this.itemCount=this.items.length;this.itemWidth=this.options.itemWidth||85;this.navigation=this.options.navigation||$(".navigation");this.left=this.navigation.find(".left");this.right=this.navigation.find(".right");this.left.on("click",a.slideLeft);this.right.on("click",a.slideRight);this.active=this.slideshow.find("li.active");this.marginOffset=this.index*this.itemWidth;this.sliding=!1;this.items.each(function(){$(this).on("click",a.scrollToItem)});this.onSlideStart=d.onSlideStart||function(){};
this.onSlideEnd=d.onSlideEnd||function(){}};this.updateMargin=function(){a.currentMargin=parseInt(a.slideshow.css("margin-left"),10)};this.slideLeft=function(){if(!0===a.sliding)return!1;var b=a.index-1;0>b&&(b=a.itemCount-1);var c=a.slideshow.find("li").eq(b);a.setActive(c);a.index=b;a.animate(!0)};this.slideRight=function(){if(!0===a.sliding)return!1;var b=a.index+1;b>a.itemCount-1&&(b=0);var c=a.slideshow.find("li").eq(b);a.setActive(c);a.index=b;a.animate()};this.setActive=function(b){a.active.removeClass("active");
a.active=b;a.active.addClass("active")};this.animate=function(b){a.sliding=!0;a.onSlideStart(a.index);var c=-(a.index*a.itemWidth),c=!0===b?(a.startIndex-a.index)*a.itemWidth:c+a.marginOffset;a.slideshow.animate({marginLeft:c},a.speed,function(){a.currentMargin=c;a.sliding=!1;a.onSlideEnd(a.index)})};this.scrollToItem=function(){var b=$("li",this.slideshow).index($(this));a.index=b;a.setActive($(this));a.animate()};return this};$.fn.slideshow=function(d){return this.each(function(){return(new Slideshow(d)).init()})};
